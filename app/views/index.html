<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name=viewport
          content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui">
    <meta name="referrer" content="no-referrer">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <title>Test</title>
</head>
<body>
<article id="app">
</article>
<h2>history 实现路由</h2>
<a class="api a">a.html</a>
<a class="api a">b.html</a>
<h2>hash 实现路由</h2>
<a class="hash a">#a.html</a>
<a class="hash a">#b.html</a>

<script>
    // 注册路由
    document.querySelectorAll('.api').forEach((item) => {
        item.addEventListener('click', (e) => {
            e.preventDefault()
            let link = item.textContent
            history.pushState({name: 'api'}, link, link)
        }, false)
    })

    // 监听路由
    window.addEventListener('popstate', (e) => {
        console.log({
            location: location.href,
            state: e.state
        })
    })

    document.querySelectorAll('.hash').forEach((item) => {
        item.addEventListener('click', (e) => {
            e.preventDefault()
            let link = item.textContent
            location.hash=link
        }, false)
    })

    // 监听路由
    window.addEventListener('hashchange', (e) => {
        console.log({
            location: location.href,
            hash: location.hash
        })
    })
</script>
</body>
</html>
